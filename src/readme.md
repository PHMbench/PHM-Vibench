# PHM-Vibench 源码 (`src`) 结构说明

本目录是 `PHM-Vibench` 项目的核心源代码。整体架构采用工厂模式，将数据处理、模型定义、任务设定和训练过程解耦，以实现高度的灵活性和可扩展性。

## 目录结构

- **`Pipeline_*.py`**: 具体的实验流程脚本。定义了端到端的执行逻辑，例如 `Pipeline_01_default.py` 用于标准训练流程，`Pipeline_02_pretrain_fewshot.py` 用于预训练+小样本学习流程。
- **`data_factory/`**: 负责所有与数据相关的操作，包括数据集的加载、预处理、封装和采样。
- **`model_factory/`**: 负责定义和构建各种故障诊断模型。
- **`task_factory/`**: 负责根据配置文件定义具体的学习任务，例如领域泛化（DG）、小样本学习（Few-Shot）等。
- **`trainer_factory/`**: 负责实现不同的训练器（Trainer），管理模型的训练、验证和测试循环。
- **`utils/`**: 存放项目通用的工具函数，如日志记录、文件操作、配置加载等。

## 核心流程

一个典型的实验流程如下：
1.  通过 `Pipeline` 脚本启动。
2.  `data_factory` 根据配置加载并准备数据集。
3.  `task_factory` 根据配置定义任务，并从数据集中划分出源域/目标域或支持集/查询集。
4.  `model_factory` 根据配置构建指定的模型。
5.  `trainer_factory` 创建一个训练器，接收模型、数据和任务，并执行训练和评估。