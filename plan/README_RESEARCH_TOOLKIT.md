# ğŸ¯ Flowé¢„è®­ç»ƒè®ºæ–‡ç ”ç©¶å·¥å…·åŒ…

## æ¦‚è¿°

æœ¬å·¥å…·åŒ…æä¾›äº†ä½¿ç”¨Flowé¢„è®­ç»ƒæ¨¡å—è¿›è¡Œ**è®ºæ–‡çº§ç ”ç©¶**çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œä»å®éªŒè®¾è®¡åˆ°è®ºæ–‡å†™ä½œçš„å…¨æµç¨‹æ”¯æŒã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
plan/
â”œâ”€â”€ flow_paper_experiments_guideline.md  # ğŸ“– ä¸»è¦å®éªŒæŒ‡å—
â”œâ”€â”€ scripts/                             # ğŸ”§ å®éªŒè„šæœ¬å·¥å…·
â”‚   â”œâ”€â”€ collect_results.py               # ğŸ“Š ç»“æœæ”¶é›†å’Œæ±‡æ€»
â”‚   â”œâ”€â”€ full_paper_experiments.sh        # ğŸš€ å®Œæ•´å®éªŒPipeline
â”‚   â”œâ”€â”€ hyperparameter_sweep.py          # ğŸ›ï¸ è¶…å‚æ•°ä¼˜åŒ–
â”‚   â””â”€â”€ statistical_analysis.py          # ğŸ“ˆ ç»Ÿè®¡æ˜¾è‘—æ€§åˆ†æ
â”œâ”€â”€ templates/                           # ğŸ“ è®ºæ–‡å†™ä½œæ¨¡æ¿
â”‚   â””â”€â”€ paper_sections_template.tex      # ğŸ“„ LaTeXè®ºæ–‡æ¨¡æ¿
â””â”€â”€ README_RESEARCH_TOOLKIT.md          # ğŸ“‹ æœ¬è¯´æ˜æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®Œæ•´å®éªŒPipeline
```bash
# è¿è¡Œæ‰€æœ‰è®ºæ–‡çº§å®éªŒ
bash plan/scripts/full_paper_experiments.sh

# å¿«é€Ÿæ¨¡å¼ (æµ‹è¯•ç”¨)
bash plan/scripts/full_paper_experiments.sh --quick

# è·³è¿‡ç¯å¢ƒéªŒè¯
bash plan/scripts/full_paper_experiments.sh --skip-validation
```

### 2. ç»“æœæ”¶é›†åˆ†æ
```bash
# æ”¶é›†æ‰€æœ‰å®éªŒç»“æœ
python plan/scripts/collect_results.py --results_dir results/ --generate_latex

# ç»Ÿè®¡æ˜¾è‘—æ€§åˆ†æ
python plan/scripts/statistical_analysis.py --results_file experiment_results.csv
```

### 3. è¶…å‚æ•°ä¼˜åŒ–
```bash
# ç½‘æ ¼æœç´¢
python plan/scripts/hyperparameter_sweep.py --method grid --max_experiments 50

# éšæœºæœç´¢
python plan/scripts/hyperparameter_sweep.py --method random --max_experiments 100

# è´å¶æ–¯ä¼˜åŒ–
python plan/scripts/hyperparameter_sweep.py --method bayesian --max_experiments 30
```

## ğŸ“– æ ¸å¿ƒç»„ä»¶è¯¦è§£

### 1. å®éªŒæŒ‡å— (`flow_paper_experiments_guideline.md`)

**å†…å®¹è¦†ç›–**:
- âœ… å®éªŒå‡†å¤‡å’Œç¯å¢ƒéªŒè¯
- âœ… åŸºçº¿å®éªŒè®¾è®¡
- âœ… æ¶ˆèç ”ç©¶æ–¹æ¡ˆ  
- âœ… å¯¹æ¯”å®éªŒåè®®
- âœ… æ³›åŒ–æ€§è¯„ä¼°
- âœ… è§„æ¨¡åŒ–å®éªŒ
- âœ… ç»“æœåˆ†ææ–¹æ³•
- âœ… è®ºæ–‡å›¾è¡¨ç”Ÿæˆ
- âœ… è´¨é‡æ§åˆ¶æ£€æŸ¥æ¸…å•
- âœ… å¸¸è§é—®é¢˜è§£å†³

**å…³é”®ç‰¹æ€§**:
- ğŸ“‹ æä¾›å®Œæ•´çš„å®éªŒè®¾è®¡æ–¹æ³•è®º
- ğŸ¯ åŒ…å«å…·ä½“çš„é…ç½®å‚æ•°å’Œå‘½ä»¤
- ğŸ“Š è¯¦ç»†çš„è¯„ä¼°æŒ‡æ ‡å’Œç»Ÿè®¡æ–¹æ³•
- ğŸ”¬ ä¸¥æ ¼çš„å®éªŒæ§åˆ¶å’ŒéªŒè¯åè®®

### 2. è„šæœ¬å·¥å…·é›† (`scripts/`)

#### A. ç»“æœæ”¶é›†è„šæœ¬ (`collect_results.py`)
**åŠŸèƒ½**:
- ğŸ” è‡ªåŠ¨æ‰«æå®éªŒç»“æœç›®å½•
- ğŸ“Š è§£æå¤šç§æ ¼å¼çš„æŒ‡æ ‡æ–‡ä»¶ (JSON, CSV)
- ğŸ§® è®¡ç®—æè¿°æ€§ç»Ÿè®¡
- ğŸ“ˆ ç”Ÿæˆæ±‡æ€»è¡¨æ ¼å’ŒLaTeXä»£ç 
- ğŸ’¾ å¯¼å‡ºCSVå’ŒExcelæ ¼å¼

**ä½¿ç”¨ç¤ºä¾‹**:
```bash
# åŸºæœ¬ç”¨æ³•
python collect_results.py --results_dir results/

# ç”ŸæˆLaTeXè¡¨æ ¼
python collect_results.py --generate_latex

# è‡ªå®šä¹‰è¾“å‡ºå‰ç¼€
python collect_results.py --output_prefix paper_results
```

#### B. å®Œæ•´å®éªŒPipeline (`full_paper_experiments.sh`)
**åŠŸèƒ½**:
- ğŸ¯ è‡ªåŠ¨åŒ–æ‰§è¡Œæ‰€æœ‰è®ºæ–‡å®éªŒ
- âš¡ æ”¯æŒå¿«é€Ÿæ¨¡å¼å’Œå®Œæ•´æ¨¡å¼
- ğŸ“ è¯¦ç»†çš„å®éªŒæ—¥å¿—è®°å½•
- ğŸ”„ é”™è¯¯å¤„ç†å’Œç»­ç‚¹æ‰§è¡Œ
- ğŸ“Š è‡ªåŠ¨ç»“æœæ”¶é›†

**å®éªŒç±»å‹**:
1. **åŸºçº¿å®éªŒ** - Flow vs ä¼ ç»Ÿæ–¹æ³•å¯¹æ¯”
2. **æ¶ˆèç ”ç©¶** - ç»„ä»¶è´¡çŒ®åˆ†æ
3. **æ³›åŒ–å®éªŒ** - è·¨æ•°æ®é›†è¯„ä¼°
4. **Few-shotå®éªŒ** - å°æ ·æœ¬å­¦ä¹ èƒ½åŠ›
5. **æ•ˆç‡åˆ†æ** - è®¡ç®—æ€§èƒ½è¯„ä¼°

#### C. è¶…å‚æ•°ä¼˜åŒ– (`hyperparameter_sweep.py`)
**æ”¯æŒæ–¹æ³•**:
- ğŸ”² **ç½‘æ ¼æœç´¢** - ç©·å°½å¼å‚æ•°ç»„åˆ
- ğŸ² **éšæœºæœç´¢** - é«˜æ•ˆéšæœºé‡‡æ ·
- ğŸ¤– **è´å¶æ–¯ä¼˜åŒ–** - æ™ºèƒ½å‚æ•°é€‰æ‹©

**æœç´¢ç©ºé—´**:
```python
param_grid = {
    'task.lr': [1e-4, 5e-4, 1e-3],
    'task.flow_lr': [1e-4, 5e-4, 1e-3], 
    'task.contrastive_weight': [0.1, 0.3, 0.5],
    'model.hidden_dim': [256, 512],
    'task.num_steps': [50, 100, 200]
}
```

#### D. ç»Ÿè®¡åˆ†æ (`statistical_analysis.py`)
**åˆ†æåŠŸèƒ½**:
- ğŸ“Š **æè¿°æ€§ç»Ÿè®¡** - å‡å€¼ã€æ ‡å‡†å·®ã€åˆ†ä½æ•°
- ğŸ” **æ­£æ€æ€§æ£€éªŒ** - Shapiro-Wilk, D'Agostino
- âš–ï¸ **æ–¹å·®é½æ€§æ£€éªŒ** - Leveneæ£€éªŒ
- ğŸ¯ **æ˜¾è‘—æ€§æ£€éªŒ** - tæ£€éªŒ, Mann-Whitney U, ANOVA
- ğŸ“ **æ•ˆåº”å¤§å°** - Cohen's d, eta squared
- ğŸ“Š **ç½®ä¿¡åŒºé—´** - å‡å€¼å·®çš„åŒºé—´ä¼°è®¡

**ç»Ÿè®¡æ£€éªŒé€‰æ‹©é€»è¾‘**:
```
æ•°æ®æ­£æ€æ€§? â†’ æ˜¯ â†’ æ–¹å·®é½æ€§? â†’ æ˜¯ â†’ tæ£€éªŒ
                              â†’ å¦ â†’ Welch tæ£€éªŒ
              â†’ å¦ â†’ Mann-Whitney Uæ£€éªŒ

å¤šç»„æ¯”è¾ƒ? â†’ æ­£æ€+ç­‰æ–¹å·® â†’ ANOVA â†’ Tukey HSD
         â†’ éæ­£æ€/ä¸ç­‰æ–¹å·® â†’ Kruskal-Wallis â†’ Dunnæ£€éªŒ
```

### 3. è®ºæ–‡æ¨¡æ¿ (`templates/`)

#### LaTeXè®ºæ–‡æ¨¡æ¿ (`paper_sections_template.tex`)
**åŒ…å«ç« èŠ‚**:
- ğŸ“ **Abstract** - ç»“æ„åŒ–æ‘˜è¦æ¨¡æ¿
- ğŸ“š **Introduction** - å¼•è¨€å’Œè´¡çŒ®å£°æ˜
- ğŸ”¬ **Methodology** - æ–¹æ³•è®ºè¯¦ç»†æè¿°
- âš™ï¸ **Experimental Setup** - å®éªŒé…ç½®è§„èŒƒ
- ğŸ“Š **Results** - ç»“æœå±•ç¤ºæ¨¡æ¿
- ğŸ’¬ **Discussion** - ç»“æœè®¨è®ºå’Œåˆ†æ
- ğŸ¯ **Conclusion** - ç»“è®ºå’Œæœªæ¥å·¥ä½œ
- ğŸ“– **Appendix** - é™„å½•å†…å®¹æ¨¡æ¿

**ç‰¹è‰²æ¨¡æ¿**:
- ğŸ† **ç»“æœè¡¨æ ¼** - æ ‡å‡†åŒ–çš„æ€§èƒ½å¯¹æ¯”è¡¨
- ğŸ“ˆ **ç»Ÿè®¡æŠ¥å‘Š** - æ˜¾è‘—æ€§æ£€éªŒç»“æœæ ¼å¼
- ğŸ”¬ **æ¶ˆèç ”ç©¶** - ç³»ç»ŸåŒ–ç»„ä»¶åˆ†æ
- ğŸ“Š **ç½®ä¿¡åŒºé—´** - ç»Ÿè®¡å­¦è§„èŒƒè¡¨è¿°

## ğŸ¯ ä½¿ç”¨å·¥ä½œæµ

### é˜¶æ®µ1: å®éªŒå‡†å¤‡
```bash
# 1. éªŒè¯ç¯å¢ƒè®¾ç½®
python validate_flow_setup.py

# 2. æŸ¥çœ‹å®éªŒæŒ‡å—
cat plan/flow_paper_experiments_guideline.md
```

### é˜¶æ®µ2: å®éªŒæ‰§è¡Œ
```bash
# å®Œæ•´å®éªŒPipeline
bash plan/scripts/full_paper_experiments.sh

# æˆ–åˆ†æ­¥æ‰§è¡Œ
./run_flow_experiments.sh research --wandb
python plan/scripts/hyperparameter_sweep.py --method bayesian
```

### é˜¶æ®µ3: ç»“æœåˆ†æ
```bash
# æ”¶é›†å®éªŒç»“æœ
python plan/scripts/collect_results.py --generate_latex

# ç»Ÿè®¡æ˜¾è‘—æ€§åˆ†æ
python plan/scripts/statistical_analysis.py --results_file results.csv
```

### é˜¶æ®µ4: è®ºæ–‡å†™ä½œ
```latex
% ä½¿ç”¨è®ºæ–‡æ¨¡æ¿
\input{plan/templates/paper_sections_template.tex}

% æ’å…¥ç”Ÿæˆçš„è¡¨æ ¼
\input{experiment_results_summary.tex}
```

## ğŸ“Š é¢„æœŸäº§å‡º

### å®éªŒç»“æœ
- ğŸ“ˆ **æ€§èƒ½æŒ‡æ ‡æ±‡æ€»** - CSV/Excelæ ¼å¼
- ğŸ“Š **LaTeXè¡¨æ ¼** - ç›´æ¥æ’å…¥è®ºæ–‡
- ğŸ” **ç»Ÿè®¡åˆ†ææŠ¥å‘Š** - æ˜¾è‘—æ€§æ£€éªŒç»“æœ
- ğŸ“‹ **å®éªŒæ—¥å¿—** - å®Œæ•´çš„æ‰§è¡Œè®°å½•

### è®ºæ–‡ææ–™
- ğŸ“„ **è®ºæ–‡æ¡†æ¶** - å®Œæ•´çš„LaTeXç»“æ„
- ğŸ† **ç»“æœè¡¨æ ¼** - æ ‡å‡†åŒ–æ ¼å¼
- ğŸ“ˆ **ç»Ÿè®¡æŠ¥å‘Š** - è§„èŒƒåŒ–è¡¨è¿°
- ğŸ”¬ **æ–¹æ³•æè¿°** - æŠ€æœ¯ç»†èŠ‚æ¨¡æ¿

### åˆ†æå·¥å…·
- ğŸ“Š **æ•°æ®å¯è§†åŒ–** - å­¦ä¹ æ›²çº¿ã€å¯¹æ¯”å›¾
- ğŸ¯ **æ•ˆåº”å¤§å°åˆ†æ** - Cohen's dè§£é‡Š
- ğŸ“‰ **ç½®ä¿¡åŒºé—´ä¼°è®¡** - æ€§èƒ½åŒºé—´
- ğŸ” **å‡è®¾æ£€éªŒ** - på€¼è§£é‡ŠæŒ‡å—

## âš¡ é«˜çº§åŠŸèƒ½

### 1. æ‰¹é‡å®éªŒç®¡ç†
```bash
# éªŒè¯å¥—ä»¶ (3ä¸ªæ ¸å¿ƒå®éªŒ)
python run_flow_experiment_batch.py validation

# ç ”ç©¶ç®¡é“ (4ä¸ªå®Œæ•´å®éªŒ)  
python run_flow_experiment_batch.py research --wandb

# è‡ªå®šä¹‰å®éªŒç»„åˆ
python run_flow_experiment_batch.py custom --experiments quick baseline contrastive
```

### 2. è‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆ
- ğŸ“Š **å®éªŒæ‘˜è¦** - è‡ªåŠ¨åŒ–æ€§èƒ½å¯¹æ¯”
- ğŸ” **ç»Ÿè®¡åˆ†æ** - æ˜¾è‘—æ€§æ£€éªŒæŠ¥å‘Š
- ğŸ“ˆ **å¯è§†åŒ–å›¾è¡¨** - è®ºæ–‡çº§å›¾è¡¨ç”Ÿæˆ
- ğŸ“‹ **å®éªŒè®°å½•** - å®Œæ•´çš„å‚æ•°è¿½è¸ª

### 3. è´¨é‡æ§åˆ¶
- âœ… **å¯é‡ç°æ€§æ£€æŸ¥** - éšæœºç§å­æ§åˆ¶
- ğŸ“ **ç»Ÿè®¡æœ‰æ•ˆæ€§** - æ ·æœ¬é‡å’Œæ•ˆåº”å¤§å°
- ğŸ” **å®éªŒè®¾è®¡éªŒè¯** - å¯¹ç…§ç»„å’Œå˜é‡æ§åˆ¶
- ğŸ“Š **æ•°æ®å®Œæ•´æ€§** - ç»“æœæ–‡ä»¶éªŒè¯

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹å®éªŒå‚æ•°
```yaml
# ç¼–è¾‘é…ç½®æ–‡ä»¶
configs/demo/Pretraining/Flow/flow_research_experiment.yaml

# æˆ–ä½¿ç”¨å‘½ä»¤è¡Œè¦†ç›–
./run_flow_experiments.sh research --config_override "task.epochs=100,task.lr=1e-3"
```

### æ·»åŠ æ–°çš„åŸºçº¿æ–¹æ³•
```python
# åœ¨ scripts/full_paper_experiments.sh ä¸­æ·»åŠ 
baseline_methods=("CNN_Baseline" "Transformer_Baseline" "Your_New_Method")
```

### è‡ªå®šä¹‰ç»Ÿè®¡åˆ†æ
```python
# ä¿®æ”¹ statistical_analysis.py ä¸­çš„å‚æ•°
analyzer = StatisticalAnalyzer(alpha=0.01)  # æ›´ä¸¥æ ¼çš„æ˜¾è‘—æ€§æ°´å¹³
```

## ğŸ‰ æˆåŠŸæ£€æŸ¥æ¸…å•

åœ¨æäº¤è®ºæ–‡å‰ï¼Œç¡®ä¿å®Œæˆä»¥ä¸‹æ£€æŸ¥:

### å®éªŒå®Œæ•´æ€§
- [ ] âœ… æ‰€æœ‰åŸºçº¿å®éªŒå®Œæˆä¸”ç»“æœå¯é‡ç°
- [ ] ğŸ“Š æ¶ˆèç ”ç©¶è¦†ç›–æ‰€æœ‰å…³é”®ç»„ä»¶
- [ ] ğŸ” è·¨æ•°æ®é›†è¯„ä¼°å±•ç¤ºæ³›åŒ–èƒ½åŠ›
- [ ] ğŸ¯ Few-shotå®éªŒéªŒè¯sample efficiency

### ç»Ÿè®¡æœ‰æ•ˆæ€§  
- [ ] ğŸ“ˆ æ ·æœ¬é‡è¶³å¤Ÿ (æ¯ç»„â‰¥10ä¸ªå®éªŒ)
- [ ] âš–ï¸ æ˜¾è‘—æ€§æ£€éªŒé€‰æ‹©åˆç†
- [ ] ğŸ“ æ•ˆåº”å¤§å°è®¡ç®—å’Œè§£é‡Šæ­£ç¡®
- [ ] ğŸ“Š ç½®ä¿¡åŒºé—´æŠ¥å‘Šå®Œæ•´

### è®ºæ–‡è´¨é‡
- [ ] ğŸ“ æ–¹æ³•æè¿°æ¸…æ™°å®Œæ•´
- [ ] ğŸ† ç»“æœè¡¨æ ¼æ ¼å¼è§„èŒƒ
- [ ] ğŸ”¬ æ¶ˆèç ”ç©¶ç»“æœè¯¦ç»†
- [ ] ğŸ’¬ Discussionç« èŠ‚æ·±å…¥åˆ†æ

### å¯é‡ç°æ€§
- [ ] ğŸ”§ æ‰€æœ‰è¶…å‚æ•°æ˜ç¡®è®°å½•
- [ ] ğŸ’¾ ä»£ç å’Œé…ç½®æ–‡ä»¶ä¿å­˜
- [ ] ğŸ“‹ å®éªŒç¯å¢ƒä¿¡æ¯å®Œæ•´
- [ ] ğŸ¯ éšæœºç§å­å›ºå®š

## ğŸ¤ æ”¯æŒå’Œåé¦ˆ

å¦‚æœåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼š

1. ğŸ“– æŸ¥çœ‹ `flow_paper_experiments_guideline.md` è¯¦ç»†æŒ‡å—
2. ğŸ” æ£€æŸ¥å®éªŒæ—¥å¿—æ–‡ä»¶æ’æŸ¥é”™è¯¯
3. âš™ï¸ è¿è¡Œ `validate_flow_setup.py` éªŒè¯ç¯å¢ƒ
4. ğŸ“Š ä½¿ç”¨ç»Ÿè®¡åˆ†æå·¥å…·éªŒè¯ç»“æœæœ‰æ•ˆæ€§

---

ğŸ¯ **ç›®æ ‡**: é€šè¿‡æ ‡å‡†åŒ–çš„å®éªŒæµç¨‹å’Œä¸¥æ ¼çš„ç»Ÿè®¡åˆ†æï¼Œäº§å‡ºé«˜è´¨é‡çš„å­¦æœ¯è®ºæ–‡æˆæœã€‚

ğŸ“š **åŸåˆ™**: å¯é‡ç°ã€å¯éªŒè¯ã€å¯å‘è¡¨çš„ç ”ç©¶æ ‡å‡†ã€‚